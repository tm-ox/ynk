---
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

export async function getStaticPaths() {
  const collection = await getCollection("events");
  return collection.map((page) => ({
    params: { slug: page.slug },
    props: { page },
  }));
}
export async function getStaticProps({ params }: any) {
  const project = await getCollection("events");
  const page = project.find((p) => p.slug === params.slug);
  return { props: { page } };
}
const { page } = Astro.props;
const data = page.data;
---

<section class="min-h-screen flex items-center w-[90%] mx-auto">
  <div class="grid grid-cols-3">
    <Image
      src={data.images[0].src}
      alt={data.images[0].alt}
      class="mx-auto rounded-md h-auto md:h-full w-full md:w-auto object-contain"
    />
    <div class="col-span-2">
      <h1>{data.title}</h1>
      <h1>{data.date}</h1>
      <h1>{data.time}</h1>
      <h1>{data.venue}</h1>
      <h1>{data.with}</h1>
    </div>
  </div>
</section>
